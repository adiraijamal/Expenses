<ul>
    <li><a href="{% url 'dailytrans:index' %}" class="{% if request.path == '/' %}active{% endif %}">Home</a></li>
    <li><a href="{% url 'dailytrans:report_monthwise' %}">Monthly Report</a></li>
    <li><a href="#" id="report-monthly-ajax-btn">Monthly Report (Ajax)</a></li>
    <li><a href="{% url 'dailytrans:add_trans' %}">Add Transaction</a></li>
    <li style="float:right"><a href="{% url 'admin:index' %}">Admin</a></li>
</ul>
<div id="report-monthly-ajax-container"></div>
<script>
  $(document).ready(function() {
      $('#report-monthly-ajax-btn').click(function(event) {
          event.preventDefault();
          $.ajax({
              url: "{% url 'dailytrans:report_monthly_ajax' month=0 %}".replace('0', $('#month-select').val()),
              success: function(data) {
                  var html = '<table><thead><tr><th>Date</th><th>Details</th><th>Category</th><th>Sub Details</th><th>Pay Mode</th><th>Amount</th></tr></thead><tbody>';
                  $.each(data, function(index, transaction) {
                      html += '<tr><td>' + transaction.date + '</td><td>' + transaction.details + '</td><td>' + transaction.category + '</td><td>' + transaction.sub_details + '</td><td>' + transaction.pay_mode + '</td><td>' + transaction.amount + '</td></tr>';
                  });
                  html += '</tbody></table><p>Total: ' + data.total + '</p>';
                  $('#report-monthly-ajax-container').html(html);
              }
          });
      });
  });
</script>
