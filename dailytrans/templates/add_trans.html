<!-- add_transaction.html -->
{% extends 'base.html' %}

{% block content %}
<table id="transaction-table">
  <thead>
    <tr>
      <th>Date</th>
      <th>Type</th>
      <th>Main Category</th>
      <th>Sub Category</th>
      <th>Mode</th>
      <th>Amount</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><input type="date" name="trans_date" required></td>
      <td>
        <select name="trans_type" required>
          <option value="income">Income</option>
          <option value="expense">Expense</option>
        </select>
      </td>
      <td>
        <select name="trans_main_category" required>
          {% for main_category in main_categories %}
            <option value="{{ main_category.pk }}">{{ main_category }}</option>
          {% endfor %}
        </select>
      </td>
      <td>
        <select name="trans_sub_category" required>
          {% for sub_category in sub_categories %}
            <option value="{{ sub_category.pk }}">{{ sub_category }}</option>
          {% endfor %}
        </select>
      </td>
      <td>
        <select name="trans_mode" required>
          <option value="cash">Cash</option>
          <option value="enbd">ENBD</option>
          <option value="nol">NOL</option>
          <option value="payit">Pay IT</option>
          <option value="sib">SIB</option>
        </select>
      </td>
      <td><input type="number" name="trans_amount" required></td>
      <td><button class="remove-row">Remove</button></td>
    </tr>
  </tbody>
</table>
<script>
  $(document).ready(function() {
    // Add row
    $('#add-row').click(function() {
      var row = $('#transaction-table tbody tr:last').clone();
      row.find('input, select').val('').removeAttr('checked').removeAttr('selected');
      $('#transaction-table tbody').append(row);
    });

    // Remove row
    $(document).on('click', '.remove-row', function() {
      $(this).closest('tr').remove();
    });
  });
</script>


{% endblock %}
